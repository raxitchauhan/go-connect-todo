syntax = "proto3";

package todo.v1;

import "buf/validate/validate.proto";

service TodoService {
  rpc List (ListRequest) returns (ListResponse);
  rpc Complete (CompleteRequest) returns (CompleteResponse);
  rpc Add (AddRequest) returns (AddResponse);
}

message Task {
  string id = 1;
  string title = 2;
  bool completed = 3;
}

message ListRequest {}

message ListResponse {
  repeated Task tasks= 1;
}

message CompleteRequest {
  string id = 1;
}

message CompleteResponse {
  Task task = 1;
}

message AddRequest {
  string title = 1[(buf.validate.field).string = {
    min_len: 1,
    max_len: 50,
  }];
}

message AddResponse {
  Task task = 1;
}
